<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- This is an SEO Change -->
    <title>Personal Budget App | Free Budgeting, Alerts & Charts</title>

    <!-- This is an SEO Change -->
    <meta name="description" content="Personal Budget is a free budgeting app that helps you track spending, set alerts, and visualize your money with charts.">
    <meta name="keywords" content="budget app, personal finance, free budgeting, spending tracker, money charts">

    <!-- This is an SEO Change -->
    <meta name="robots" content="index, follow">

    <!-- This is an SEO Change -->
    <link rel="canonical" href="http://68.183.61.239/pb/public/">

    <!-- This is an SEO Change -->
    <meta property="og:title" content="Personal Budget App">
    <meta property="og:description" content="Track spending, set alerts, and visualize your budget. Free and private.">
    <meta property="og:type" content="website">

    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="main.css">
</head>
<body>

<a href="#main" class="skip">Skip to content</a>

<!-- This is a Semantic HTML Change -->
<!-- This is an A11y Change-->
<nav aria-label="Primary">
    <ul>
        <!-- This is an A11y Change -->
        <li><a href="/" aria-current="page">Home</a></li>
        <li><a href="/about.html">About</a></li>
        <li><a href="/login.html">Login</a></li>
        <!-- This is an A11y Change -->
        <li><a href="https://google.com" rel="noopener" target="_blank" aria-label="Open Google in a new tab">Google</a></li>
    </ul>
</nav>

<!-- This is a Semantic HTML Change -->
<header class="hero">
    <h1>Personal Budget</h1>
    <p class="subtitle">A personal-budget management app</p>
</header>

<!-- This is an A11y Change -->
<main class="center" id="main" tabindex="-1">

    <!-- This is a Semantic HTML Change -->
    <section class="page-area" aria-labelledby="features-heading">
        <!-- This is an A11y Change -->
        <h2 id="features-heading" class="sr-only">App Features</h2>

        <article>
            <!-- This is a Semantic HTML Change -->
            <h3>Stay on track</h3>
            <p>
                Do you know where you are spending your money? If you really stop to track it down,
                you would get surprised! Proper budget management depends on real data... and this
                app will help you with that!
            </p>
        </article>

        <article>
            <!-- This is a Semantic HTML Change -->
            <h3>Alerts</h3>
            <p>
                What if your clothing budget ended? You will get an alert. The goal is to never go over the budget.
            </p>
        </article>

        <article>
            <!-- This is a Semantic HTML Change -->
            <h3>Results</h3>
            <p>
                People who stick to a financial plan, budgeting every expense, get out of debt faster!
                Also, they live happier lives... since they spend without guilt or fear...
                because they know it is all good and accounted for.
            </p>
        </article>

        <article>
            <!-- This is a Semantic HTML Change -->
            <h3>Free</h3>
            <p>
                This app is free!!! And you are the only one holding your data!
            </p>
        </article>

        <article>
            <!-- This is a Semantic HTML Change -->
            <h3>Chart</h3>

            <!-- This is an A11y Change -->
            <figure>
                <!-- This is an A11y Change  -->
                <canvas id="myChart" width="400" height="400" role="img" aria-describedby="chart-desc"></canvas>
                <figcaption id="chart-desc">
                    Pie chart showing your budget categories and allocations.
                </figcaption>
            </figure>
        </article>

    </section>

</main>

<footer class="bottom">
    <div class="center">
        <!-- (typo fix ) -->
        All rights reserved &copy; Fabio Nolasco
    </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>

<script>
    var dataSource = {
            datasets: [
                {
                    data: [],
                    backgroundColor: [
                        '#ffcd56',
                        '#ff6384',
                        '#36a2eb',
                        '#fd6b19',
                    ]
                }
            ],
            labels: []
        };

    function createChart() {
        var ctx = document.getElementById('myChart').getContext('2d');
        var myPieChart = new Chart(ctx, {
            type: 'pie',
            data: dataSource
        });
    }

    function getBudget() {
        axios.get('http://localhost:3000/budget')
        .then(function (res) {
            for (var i = 0; i < res.data.myBudget.length; i++) {
                dataSource.datasets[0].data[i] = res.data.myBudget[i].budget;
                dataSource.labels[i] = res.data.myBudget[i].title;
                createChart();
            }
        });
    }

    getBudget();
</script>

</body>
</html>
